# YaMDB

## Описание

Яндекс практикум, проект 10 спринта.

## Что использовалось

Django, Django REST framework

## Функционал

Данный проект предназначен для взаимодействия пользователей с API YaMDB.
Пользователи оставляют к произведениям текстовые отзывы и ставят произведению оценку в диапазоне от одного до десяти (целое число);
из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число).
Сами произведения в YaMDb не хранятся
На одно произведение пользователь может оставить только один отзыв.
Пользователи могут оставлять комментарии к отзывам.
Добавлять отзывы, комментарии и ставить оценки могут только аутентифицированные пользователи.

### Примеры запросов
Запрос кода подтверждения по email.
Отправить POST запрос к 'api/v1/auth/signup/':
```
    {
        "username":"test_user",
        "email":"test@mail.ru"
    }
```
Получение токена.
Отправить POST запрос к 'api/v1/auth/token/':
```
    {
        "username":"test_user",
        "confirmation_code": "362228"
    }
```
Создание поста.
Отправить POST запрос к 'http://127.0.0.1:8000/api/v1/titles/1/reviews/' с указанием JWT токена:
```
    {
        "text":"test_review",
        "score": "10"
    }
```

Пример ответа.
```
   {
        "id": 76,
        "author": "test_user",
        "title": "Крестный отец",
        "text": "Мистер Корлеоне один из тех, кто предпочитает узнавать плохие новости немедленно!",
        "score": 10,
        "pub_date": "2023-04-18T09:28:26.168294+03:00"
    },
```

### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/OVIp9u/api_yamdb.git
```

```
cd api_yamdb
```

Cоздать и активировать виртуальное окружение:

```
python -m venv venv
```

```
source venv/scripts/activate
```

Установить зависимости из файла requirements.txt:


```
pip install -r requirements.txt
```

Выполнить миграции:

```
python manage.py migrate
```

Запустить проект:

```
python manage.py runserver

```

В директории /static/data/ находится тестовая
база данных.
Для автоматического добавления тестовых записей
в базу данных запустите команду 
(также см. пункт ниже):

```
python manage.py download_data
```

Для предварительного очищения базы данных от ранее 
добавленных записей необходимо добавить дополнительный
аргумент "--delete-existing".

```
python manage.py download_data --delete-existing
```
